<!DOCTYPE html>
<html lang='en' dir='ltr'>
  <head>
    <meta charset='utf-8'>
    <title>Login in Mimoza</title>
    <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css'>
  </head>
  <body>
    <div>
      <div>
        <img src='mimoza.png'>
      </div>
      <div>
        <img src='background.jpg'>
        <div>
          <div class='ui hidden divider'></div>
          <img src='hanger.png'>
          <div class='ui hidden divider'></div>
          <div class='input-holder'>
            <div class='ui transparent input'>
              <input type='text' placeholder='Username' id='user'>
            </div>
            <i class='user icon'></i>
          </div>
		  <div class='err-holder'>
            <p id='err-user'>none</p>
          </div>
          <div class='ui hidden divider'></div>
          <div class='input-holder'>
            <div class='ui transparent input'>
              <input type='password' placeholder='Password' id='pass'>
            </div>
            <i class='key icon'></i>
          </div>
		  <div class='err-holder'>
            <p id='err-pass'>none</p>
          </div>
          <div class='ui hidden divider'></div>
          <div>
            <a href='https://google.com'>Forgot password?</a>
          </div>
          <div class='ui hidden divider'></div>
          <div class='ui pink button' id='login'><i>LOGIN</i></div>
        </div>
        <img src='background.jpg'>
      </div>
    </div>
    <style>
      * {
        font-family: Segoe UI
      }
      body > div:nth-of-type(1){
        margin: 0 auto
      }
      body > div:nth-of-type(1) > div:nth-of-type(1) {
        padding: 3% 40%;
        background-color: black
      }
      body > div:nth-of-type(1) > div:nth-of-type(1) > img:only-child {
        width: 100%;
        margin: 0 auto
      }
      body > div:nth-of-type(1) > div:nth-of-type(2) > img {
        float: left;
        width: 30%
      }
      body > div:nth-of-type(1) > div:nth-of-type(2) > div {
        float: left;
        width: 40%
      }
      body > div:nth-of-type(1) > div:nth-of-type(2) > div:nth-of-type(1) > img {
        display: block;
        margin: 0 auto;
        margin-top: 5%;
        padding: 1%;
        width: 15%;
        border-radius: 50%;
        border: solid 1px #FFC2FE;
        -moz-box-shadow: 2px 2px 2px 2px #CBBCC3;
        -webkit-box-shadow: 2px 2px 2px 2px #CBBCC3;
        box-shadow: 2px 2px 2px 2px #CBBCC3;
        transform: rotate(345deg)
      }
      .input-holder {
        text-align: center
      }
      .input-holder > div {
        display: inline-block;
        width: 40%;
        border-bottom: 1px solid gainsboro
      }
      .input-holder > div > input {
        width: 100%
      }
	  .err-holder {
        text-align: center
      }
      .err-holder > p {
        text-align: left;
        display: inline-block;
        width: 40%;
        color: white;
        font-size: 13px
      }
      body > div:nth-of-type(1) > div:nth-of-type(2) > div:nth-of-type(1) > div:nth-of-type(9) {
        margin: 0 auto;
        width: 40%;
        text-align: right
      }
      body > div:nth-of-type(1) > div:nth-of-type(2) > div:nth-of-type(1) > div:nth-of-type(9) > a {
        color: deeppink;
        font-size: 10px
      }
      body > div:nth-of-type(1) > div:nth-of-type(2) > div:nth-of-type(1) > div:nth-of-type(11) {
        width: 40%;
        padding: 12px;
        display: table;
        margin: 0 auto;
        font-size: 10px;
        border-radius: 12px
      }
    </style>
    <script src='https://code.jquery.com/jquery-3.3.1.min.js'></script>
    <script src='https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js'></script>
    <script>
      $(window).on('load', function() {
        $('#user').val('')
      });

	  $.fn.api.settings.api = {
        'get-user' : 'http://localhost:4000/users/{user}'
      }

	  $('.button')
        .api({
          action: 'get-user',
          method: 'GET',
          beforeSend: function(settings) {
		  let ex = false

			let name = $('#user').val()
			if (name == '') {
              $('#err-user').text('Username cannot be empty').css('color', 'deeppink')
              $('#user').parent().css('border-bottom-color', 'deeppink')
              ex = true
            } else {
              $('#err-user').text('none').css('color', 'white')
              $('#user').parent().css('border-bottom-color', 'gainsboro')
            }

			let pass = $('#pass').val()
			if (pass == '') {
              $('#err-pass').text('Password cannot be empty').css('color', 'deeppink')
              $('#pass').parent().css('border-bottom-color', 'deeppink')
              ex = true
            } else {
              $('#err-pass').text('none').css('color', 'white')
              $('#pass').parent().css('border-bottom-color', 'gainsboro')
            }

			if (ex) {
              return false;
            }

            settings.urlData = {
              user: name
            };
            return settings;
          }
        });
    </script>
  </body>
</html>
